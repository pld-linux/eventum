http://mysql.bkbits.net:8080/eventum/cset@1.523?nav=index.html|ChangeSet@-7d

diff -Naru a/ChangeLog b/ChangeLog
diff -Naru a/include/class.notification.php b/include/class.notification.php
--- a/include/class.notification.php	2005-04-05 01:44:57 -07:00
+++ b/include/class.notification.php	2005-04-05 01:44:57 -07:00
@@ -309,14 +309,14 @@
         $header_names = Mime_Helper::getHeaderNames($_headers);
         // we don't want to keep the (B)Cc list for an eventum-based email
         $ignore_headers = array(
-            'To',
-            'Cc',
-            'Bcc'
+            'to',
+            'cc',
+            'bcc'
         );
         $headers = array();
         // build the headers array required by the smtp library
         foreach ($structure->headers as $header_name => $value) {
-            if ((in_array($header_name, $ignore_headers)) ||
+            if ((in_array(strtolower($header_name), $ignore_headers)) ||
                     (!in_array($header_name, array_keys($header_names))) ||
                     (strstr($header_name, ' '))) {
                 continue;
# This is a BitKeeper generated diff -Nru style patch.
#
# ChangeSet
#   2005/04/05 00:47:33-05:00 bryan@mysql.com 
#   Strip CC and BCC headers from outgoing emails.
# 
# ChangeLog
#   2005/04/05 00:47:32-05:00 bryan@mysql.com +1 -0
#   Strip CC and BCC headers from outgoing emails.
# 
# include/class.notification.php
#   2005/04/05 00:47:32-05:00 bryan@mysql.com +4 -4
#   Strip CC and BCC headers from outgoing emails.
# 
